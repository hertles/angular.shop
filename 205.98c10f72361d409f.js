"use strict";(self.webpackChunkpet=self.webpackChunkpet||[]).push([[205],{5205:(tt,g,r)=>{r.r(g),r.d(g,{TodolistModule:()=>_});var h=r(6814),w=r(9481),F=r(4829),x=r(5592),M=r(1631),E=r(4266),u=r(4674),O=r(7400);const Z=["addListener","removeListener"],B=["addEventListener","removeEventListener"],L=["on","off"];function y(e,i,t,n){if((0,u.m)(t)&&(n=t,t=void 0),n)return y(e,i,t).pipe((0,O.Z)(n));const[o,l]=function j(e){return(0,u.m)(e.addEventListener)&&(0,u.m)(e.removeEventListener)}(e)?B.map(d=>c=>e[d](i,c,t)):function J(e){return(0,u.m)(e.addListener)&&(0,u.m)(e.removeListener)}(e)?Z.map(T(e,i)):function S(e){return(0,u.m)(e.on)&&(0,u.m)(e.off)}(e)?L.map(T(e,i)):[];if(!o&&(0,E.z)(e))return(0,M.z)(d=>y(d,i,t))((0,F.Xf)(e));if(!o)throw new TypeError("Invalid event target");return new x.y(d=>{const c=(...p)=>d.next(1<p.length?p:p[0]);return o(c),()=>l(c)})}function T(e,i){return t=>n=>e[t](i,n)}var Q=r(9397),P=r(7394);class z extends P.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const v={setInterval(e,i,...t){const{delegate:n}=v;return n?.setInterval?n.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=v;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};var b=r(9039);const A={now:()=>(A.delegate||Date).now(),delegate:void 0};class f{constructor(i,t=f.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}f.now=A.now;const U=new class R extends f{constructor(i,t=f.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}(class N extends z{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var n;if(this.closed)return this;this.state=i;const o=this.id,l=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(l,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(l,this.id,t),this}requestAsyncId(i,t,n=0){return v.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&v.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let o,n=!1;try{this.work(i)}catch(l){n=!0,o=l||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}});var Y=r(9360),k=r(8251);function C(e,i=U){return(0,Y.e)((t,n)=>{let o=null,l=null,d=null;const c=()=>{if(o){o.unsubscribe(),o=null;const a=l;l=null,n.next(a)}};function p(){const a=d+e,I=i.now();if(I<a)return o=this.schedule(void 0,a-I),void n.add(o);c()}t.subscribe((0,k.x)(n,a=>{l=a,d=i.now(),o||(o=i.schedule(p,e),n.add(o))},()=>{c(),n.complete()},void 0,()=>{l=o=null}))})}var V=r(4664),s=r(4946),D=r(9862);let G=(()=>{class e{constructor(t){this.http=t}getTodos(t){return this.http.get("https://jsonplaceholder.typicode.com/todos",{params:{_limit:t}}).pipe(C(1e3))}static#t=this.\u0275fac=function(n){return new(n||e)(s.LFG(D.eN))};static#e=this.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var m=r(95);const H=["limitInput"];function X(e,i){1&e&&(s.TgZ(0,"div",7),s._uU(1,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439: 200"),s.qZA())}function $(e,i){if(1&e&&(s.TgZ(0,"div")(1,"p")(2,"strong"),s._uU(3),s.qZA(),s._uU(4),s.qZA()()),2&e){const t=i.$implicit;s.xp6(3),s.hij("",t.key,": "),s.xp6(1),s.Oqu(t.value)}}function W(e,i){if(1&e&&(s.TgZ(0,"div",8),s.YNc(1,$,5,2,"div",9),s.ALo(2,"keyvalue"),s.qZA()),2&e){const t=i.$implicit,n=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,2,t))("ngForTrackBy",n.trackByFieldName)}}const K=[{path:"",component:(()=>{class e{constructor(t){this.todoService=t,this.limit=20,this.trackByFieldName=(n,o)=>o.id,this.trackByTodoId=(n,o)=>o.id}ngAfterViewInit(){this.getTodos(this.limit).subscribe(t=>{this.todos=t}),y(this.limitInput.nativeElement,"input").pipe((0,Q.b)({next:()=>{this.limit>200&&(this.limit=200)}}),C(1e3),(0,V.w)(()=>this.getTodos(this.limit))).subscribe(t=>{this.todos=t})}ngOnDestroy(){}getTodos(t){return this.todoService.getTodos(t)}static#t=this.\u0275fac=function(n){return new(n||e)(s.Y36(G))};static#e=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-todolist"]],viewQuery:function(n,o){if(1&n&&s.Gf(H,5),2&n){let l;s.iGM(l=s.CRH())&&(o.limitInput=l.first)}},decls:10,vars:6,consts:[[1,"todolist-page"],[3,"href"],["for","limit"],["id","limit","type","number",3,"ngModel","ngModelChange"],["limitInput",""],["class","todolist-page__validation-error",4,"ngIf"],["class","todo",4,"ngFor","ngForOf","ngForTrackBy"],[1,"todolist-page__validation-error"],[1,"todo"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(n,o){1&n&&(s.TgZ(0,"section",0)(1,"h2")(2,"a",1),s._uU(3),s.qZA()(),s.TgZ(4,"label",2),s._uU(5,"\u041b\u0438\u043c\u0438\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"),s.qZA(),s.TgZ(6,"input",3,4),s.NdJ("ngModelChange",function(d){return o.limit=d}),s.qZA(),s.YNc(8,X,2,0,"div",5),s.YNc(9,W,3,4,"div",6),s.qZA()),2&n&&(s.xp6(2),s.Q6J("href","https://jsonplaceholder.typicode.com/todos?limit="+o.limit,s.LSH),s.xp6(1),s.hij("https://jsonplaceholder.typicode.com/todos?limit=",o.limit,""),s.xp6(3),s.Q6J("ngModel",o.limit),s.xp6(2),s.Q6J("ngIf",o.limit>=200),s.xp6(1),s.Q6J("ngForOf",o.todos)("ngForTrackBy",o.trackByTodoId))},dependencies:[h.sg,h.O5,m.Fj,m.wV,m.JJ,m.On,h.Nd],styles:[".todolist-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:flex-start}.todolist-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{word-wrap:break-word;white-space:normal;width:100%}.todolist-page__validation-error[_ngcontent-%COMP%]{color:#b22222}"]})}return e})()}];let q=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=s.oAB({type:e});static#n=this.\u0275inj=s.cJS({imports:[h.ez,w.Bz.forChild(K)]})}return e})(),_=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=s.oAB({type:e});static#n=this.\u0275inj=s.cJS({imports:[h.ez,q,m.u5]})}return e})()}}]);